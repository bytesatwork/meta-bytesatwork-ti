From 7a56defd2594a46e00eef407db14cc71c5345a06 Mon Sep 17 00:00:00 2001
From: Rico Ganahl <rico.ganahl@bytesatwork.ch>
Date: Wed, 28 Jun 2023 11:40:08 +0200
Subject: [PATCH] github: workflows: update version

Replace deprecated 'set-output'.

Signed-off-by: Rico Ganahl <rico.ganahl@bytesatwork.ch>
---
 .github/workflows/checkpatch.yml | 9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

diff --git a/.github/workflows/checkpatch.yml b/.github/workflows/checkpatch.yml
index 257c5ba889..c71203a870 100644
--- a/.github/workflows/checkpatch.yml
+++ b/.github/workflows/checkpatch.yml
@@ -9,7 +9,7 @@
 # [1.2.0] - 2022-09-02: Extend to handle Zephyr module repos as well
 # [2.0.0] - 2022-09-02: Check each patch file in a separate job
 # [2.0.1] - 2022-09-28: Change cache key so that restoring works properly
-
+# [2.0.2] - 2022-12-20: Replace deprecated 'set-output' with 'GITHUB_OUTPUT' environment file
 
 # This Github action checks a pull request using checkpatch
 name: checkpatch
@@ -17,7 +17,7 @@ on: pull_request
 jobs:
   setup-checkpatch:
     name: Setup Checkpatch
-    runs-on: ubuntu-latest
+    runs-on: ubuntu-22.04
     env:
       ZEPHYR_DEFAULT_VERSION: v3.1.0
     outputs:
@@ -73,12 +73,11 @@ jobs:
       - name: Set list of patch filenames as output
         id: set-matrix
         run: |
-          echo "::set-output name=patches::$(ls *.patch | jq -R -s -c 'split("\n")[:-1]')"
-
+          echo "patches=$(ls *.patch | jq -R -s -c 'split("\n")[:-1]')" >> $GITHUB_OUTPUT
 
   run-checkpatch:
     name: Run Checkpatch
-    runs-on: ubuntu-latest
+    runs-on: ubuntu-22.04
     needs: setup-checkpatch
     strategy:
       fail-fast: false
-- 
2.39.2

